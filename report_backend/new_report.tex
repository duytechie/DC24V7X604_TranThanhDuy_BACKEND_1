\documentclass[a4paper,12pt]{report}

% ===================================================
% 1. PAGE SETUP & FONTS
% ===================================================
% Margins: Top=3cm, Bottom=3cm, Left=3.5cm, Right=2cm (Standard TCVN)
\usepackage[a4paper,top=3cm,bottom=3cm,left=3.5cm,right=2cm]{geometry}

% Spacing and Indentation
\usepackage{setspace}
\setstretch{1.5} % 1.5 Line spacing
\usepackage{indentfirst} % Indent the first paragraph of every section
\setlength{\parindent}{1.27cm} % Standard 0.5 inch indent (approx 1.27cm)
\setlength{\parskip}{6pt} % Add a little space between paragraphs for readability

% Fonts: Times New Roman setup
\usepackage{iftex}
\ifPDFTeX
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{newtxtext,newtxmath} % Times New Roman clone for pdfLaTeX
\else
  \usepackage{fontspec}
  \setmainfont{Times New Roman}
\fi

% Fix font size warnings for non-standard sizes
\usepackage{fix-cm}

% Force the "Normal" font size to 13pt (Standard VN requirement)
\makeatletter
\renewcommand\normalsize{%
   \@setfontsize\normalsize{13pt}{19.5pt}%
   \abovedisplayskip 12\p@ \@plus3\p@ \@minus7\p@
   \abovedisplayshortskip \z@ \@plus3\p@
   \belowdisplayshortskip 6.5\p@ \@plus3.5\p@ \@minus3\p@
   \belowdisplayskip \abovedisplayskip
   \let\@listi\@listI}
\makeatother
\AtBeginDocument{\normalsize}

% ===================================================
% 2. HEADINGS FORMATTING (The Critical Part)
% ===================================================
\usepackage{titlesec}

% --- CHAPTER (Heading 1) ---
% Format: "CHAPTER X: TITLE" - Centered, Bold, Uppercase, 16pt
\titleformat{\chapter}[block]
  {\centering\normalfont\bfseries\fontsize{16}{19}\selectfont\MakeUppercase} % Format
  {\chaptertitlename\ \thechapter:} % Label (e.g., "CHAPTER 1:")
  {0.5em} % Space between label and title
  {} % Before code

% Adjust spacing around Chapter titles
\titlespacing*{\chapter}{0pt}{-10pt}{20pt} 
% {Left}{Before (negative pulls it up)}{After}

% --- SECTION (Heading 2) ---
% Format: "1.1 Title" - Left, Bold, 13pt
\titleformat{\section}
  {\normalfont\bfseries\fontsize{13}{16}\selectfont}
  {\thesection}{1em}{}
\titlespacing*{\section}{0pt}{12pt}{6pt}

% --- SUBSECTION (Heading 3) ---
% Format: "1.1.1 Title" - Left, Bold, 13pt
\titleformat{\subsection}
  {\normalfont\bfseries\fontsize{13}{16}\selectfont}
  {\thesubsection}{1em}{}
\titlespacing*{\subsection}{0pt}{12pt}{6pt}

% --- SUBSUBSECTION (Heading 4) ---
% Format: "1.1.1.1 Title" - Left, Italic, 13pt
\titleformat{\subsubsection}
  {\normalfont\itshape\fontsize{13}{16}\selectfont}
  {\thesubsubsection}{1em}{}
\titlespacing*{\subsubsection}{0pt}{12pt}{6pt}

% Numbering depth
\setcounter{secnumdepth}{4}
\setcounter{tocdepth}{3}

% ===================================================
% 3. CAPTIONS & REFERENCES
% ===================================================
\usepackage{graphicx}
\usepackage{caption}
\usepackage[hidelinks]{hyperref}

% Caption styling: Label Bold, Text Italic
\captionsetup{labelfont=bf,textfont=it,labelsep=colon}

% --- LANGUAGE SETTINGS ---
% UNCOMMENT the pair you need:

% OPTION A: ENGLISH (Standard)
% \renewcommand{\chaptername}{CHAPTER}
% \renewcommand{\figurename}{Figure}
% \renewcommand{\tablename}{Table}
% \renewcommand{\contentsname}{TABLE OF CONTENTS}

% OPTION B: VIETNAMESE (Standard)
\renewcommand{\chaptername}{CHƯƠNG}
\renewcommand{\figurename}{Hình}
\renewcommand{\tablename}{Bảng}
\renewcommand{\contentsname}{MỤC LỤC}
\renewcommand{\listfigurename}{DANH MỤC HÌNH ẢNH}

% ===================================================
% 4. HEADER & FOOTER
% ===================================================
\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{}
\fancyfoot[C]{\thepage} % Page number bottom center
\renewcommand{\headrulewidth}{0pt} % No line at top
\renewcommand{\footrulewidth}{0pt}

% ===================================================
% DOCUMENT BEGINS
% ===================================================
\begin{document}

% --- TITLE PAGE ---
\begin{titlepage}
\centering
\vspace*{1cm}
{\fontsize{14}{16}\selectfont \textbf{MINISTRY OF EDUCATION AND TRAINING}\par}
{\fontsize{14}{16}\selectfont \textbf{NAME OF UNIVERSITY}\par}
\vspace{2cm}

{\fontsize{16}{19}\bfseries\selectfont
YOUR THESIS TITLE GOES HERE\par
AND IS CENTERED WITH 16PT FONT\par
}

\vspace{2cm}
{\fontsize{14}{16}\selectfont \textbf{BACHELOR THESIS}\par}
\vspace{1.5cm}

\begin{flushleft}
\hspace{4cm}
\begin{tabular}{ll}
\textbf{Student:} & Nguyen Van A \\
\textbf{ID:} & 12345678 \\
\textbf{Supervisor:} & Dr. Pham Van B
\end{tabular}
\end{flushleft}

\vfill
{\fontsize{13}{16}\selectfont City, Year\par}
\end{titlepage}

% --- FRONT MATTER ---
\pagenumbering{roman} % i, ii, iii...

\phantomsection
\addcontentsline{toc}{chapter}{\contentsname}
\tableofcontents
\clearpage

\phantomsection
\addcontentsline{toc}{chapter}{\listfigurename}
\listoffigures
\clearpage

% --- MAIN CONTENT ---
\pagenumbering{arabic} % 1, 2, 3...
\setcounter{page}{1}

% CHAPTER 1
\chapter{Introduction} % Will automatically print "CHAPTER 1: INTRODUCTION"
\section{Background of the Study}
This is the background section. The text is 13pt Times New Roman with 1.5 line spacing. Margins are set to the Vietnamese standard.

\section{Objectives}
Here is a citation example.

% CHAPTER 2
\chapter{System Design}
\section{Database Schema}
This is a section level (Heading 2).

\subsection{User Table}
This is a subsection level (Heading 3).

\subsubsection{Field Constraints}
This is a sub-subsection level (Heading 4), which is italicized per your requirement.

\begin{figure}[ht]
    \centering
    \includegraphics[width=0.8\textwidth]{img1.jpg}
    % \fbox{\parbox{10cm}{\vspace{2cm}\centering Image Placeholder\vspace{2cm}}}
    \caption{System Architecture Diagram}
    \label{fig:arch}
\end{figure}

As seen in \figurename~\ref{fig:arch}, the architecture is modular.

\end{document}